# Common


## **マスターテーブル**
頻繁に変更しないデータを格納するテーブル
例　部署、役職、支店番号

## **トランザクションテーブル**
頻繁に変更される日々の記録が格納されたテーブル
例　注文、勤怠

## **主キー**
データベースのデータ（行、レコード）を一意に識別するための項目
１列のみ設定できる、空にしてはいけない

## **複合主キー(複合キー)**
複数の行で作成する主キー

## **サロゲートキー**
主キーとして使われ、対象のデータとは直接関係しない、意味を持たない項目
機械的に採番されたものなどが該当

## **外部キー**
別のテーブルのデータを格納することで別テーブルと関係を持たせることができるもの
その関係上、関係を持たせたいテーブルに存在しないデータは設定できない( 制約)

## **ユニークキー(ユニーク制約)**
複数行設定できる、設定した列の重複を排除できる

## **正規化**
データを使いやすいように整形すること

## **非正規化**
以下の様な理由からあえて正規化しない様にすること
・正規化でテーブル結合をしてしまうと膨大になってしまう場合
・過去のトランザクションに影響を与えたくない場合

## **トランザクション(トランザクション処理)**
複数のデータベースの値を変更する際に(例えばAテーブルから商品数マイナス、Bテーブルの商品数プラスなど)整合性を保つための仕組み
BEGIN TRANSACTION  -> SQL  -> COMMIT
SQL部で障害が起きた場合はROLLBACKで処理をキャンセル


## **ロック**
データベースの処理中に割り込んでこない様にするためのもの

### **占有ロック**
他のユーザが読み込みもできない様にしてしまうこと

### ** 共有ロック**
他のユーザは読み込みはできるが書き込みができない

### **デットロック**
お互いがデータをロックしようとして、ロック解除待ち状態になり処理が止まること

### **悲観ロック**
操作中だれにも触らせない様にして終わったら解放すること


### **楽観ロック**
処理結果を更新するタイミングでだれも更新してないことを確認、
更新していた場合は処理結果を破棄



[参考](https://sowel.co.jp/PDF_file/SQL/Other/DB_GeneralTerm.pdf)